<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head>    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">    <title>Insert title here</title>    <script type="text/javascript" src="../js/jquery-3.3.1.min.js"></script>    <script type="text/javascript" src="../js/socket.js"></script>    <script type="text/javascript">        var v1 = Math.random().toString(36).substr(2);        var v2 = Math.random().toString(36).substr(2);        var v3 = Math.random().toString(36).substr(2);        var v4 = Math.random().toString(36).substr(2);        var websocket = null;        var url = "http://localhost:8080/learning/sockjs/socketServer.do";        var array = [v1, v2, v3, v4];        if ('WebSocket' in window) {//            websocket = new WebSocket("ws:/localhost:8888/learning/websocket/socketServer.do?pageId=123456,789,5556");            websocket = new SockJS(url);        }        else if ('MozWebSocket' in window) {//            websocket = new MozWebSocket("http://localhost:8080/learning/websocketsocketServer.do?pageId=" + v1 + "," + v2 + "," + v3 + "," + v4);            websocket = new SockJS(url);        }        else {//            websocket = new SockJS("http://localhost:8080/learning/sockjs/socketServer.do?pageId=" + v1 + "," + v2 + "," + v3 + "," + v4);            websocket = new SockJS(url);        }        websocket.onopen = onOpen;        websocket.onmessage = onMessage;        websocket.onerror = onError;        websocket.onclose = onClose;        function onOpen(openEvt) {        }        function onMessage(evt) {            alert(evt.data);        }        function onError() {        }        function onClose() {        }        function doSend() {//            if (websocket.readyState === websocket.OPEN) {//                var msg = document.getElementById("inputMsg").value;//                websocket.send(msg);//调用后台handleTextMessage方法//            } else {//                alert("发送失败!");//            }            websocket.send("aa");//调用后台handleTextMessage方法        }        window.close = function () {            websocket.onclose();        }    </script></head><body><div>    请输入：<textarea rows="5" cols="10" id="inputMsg" name="inputMsg"></textarea>    <button onclick="doSend();">发送</button></div></body></html>